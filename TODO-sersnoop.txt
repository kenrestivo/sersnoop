TODO- serial snooper

start the writing/reading. 
	make sure it works, and works well.
		hmm. some constipation. my while() read loop?

add in the decoding/printing
	lift from xxd? ;-)

deal with the writing now.
	shall i select for write? hmm... could get tricky...

----------------
STUCK

hmm. shall i read until done, or just grab one chunk?
	STUCK: look around at other code

should i be using O_NDELAY on tty when i'm using select/poll?? good idea?
	STUCK: read up on this

----------------
BELOW THE LINE

	select/poll doesn't work with ptmx's on linux. wtf?
		STUCK: find docs on devpts/ptmx interface on linux, and how it works
				or look in openssh source, for examples

	try termtest on netbsd
		STUCK: need to fix some of the includes/ifdefs/defines

----------------
NOWHERE

	try it on netbsd? NOWHERE: same problem
	try the oldskool berkeley shit instead?
		it fixes the crash at basic read
		ack. that's borken too
	re-read unix book on terminals NOTHING there on ptmx?
	try putting signal handlers in NOWHERE. still broken
----------------
DONE

		ack! /usr/include/asm/ioctls.h. uses TIOCGPTN not TIOCGNAME i.e. SYSV
set up and open tty
	lift from chotplay/src/tty.c
		DONE
set up and open pty
	lift from termtest
	use only the linux version, for now anyway.
		DONE

write a simple poll/select loop to read from both/either
	there's one in sockclient/server isn't there? DONE

	try select instead
		SOLUTION! it works!
try poll...again... with & not ==
	SOLUTION: that was it! i just copied the select code, changed to poll, all's good

ack. the poll is broken. but raw reads work just fine.
	look at openssh?
		SOLUTION: just looked in orielly book. simple change

baud setting looks alllll goooodd
		ack, garbage chars, or something wrong. readcount is too long!
			SOLUTION: it includes cr/lf, AND it's not null-terminated. duh.
	get %*s going or snprintf or something
		SOLUTION: done
	do some isprint() shit. DONE
